!function(a){"use strict";a(document).ready(function(){function b(){a(".sns-woo-loadmore").each(function(){a(this).click(function(){if(a(this).hasClass("loaded"))return!1;var b,d,e,f,g,h,i,j,k,l,m,n;b=a(this).attr("id"),d=a(this).attr("data-numberquery"),e=a(this).attr("data-start"),f=a(this).attr("data-order"),g=a(this).attr("data-col"),h=a(this).attr("data-cat"),i=a(this).attr("data-loadtext"),j=a(this).attr("data-loadingtext"),k=a(this).attr("data-loadedtext"),l=a(this).attr("data-type"),m=a("#"+b).parents(".sns-product-tabs").attr("id"),n="animate-"+Math.floor(1e9*Math.random()),a("#"+b).html(j),a("#"+b).addClass("loading"),a.ajax({url:ajaxurl,data:{action:"sns_wooloadmore",numberquery:d,start:e,order:f,col:g,cat:h,eclass:n},type:"POST",success:function(c){""!=c?("order"==l?(a("#"+m+" #producttabs_"+f+" .product_list").append(c),SnsJsWoo.setAnimate("#"+m+" #producttabs_"+f,n)):"cat"==l&&(a("#"+m+" #producttabs_"+h+" .product_list").append(c),SnsJsWoo.setAnimate("#"+m+" #producttabs_"+h,n)),a("#"+b).removeClass("loading"),parseInt(e)+parseInt(d)>a(".sns-product-tabs #producttabs_"+f+" .product_list li").size()?(a("#"+b).html(k),a("#"+b).addClass("loaded")):a("#"+b).html(i),a("#"+b).attr("data-start",parseInt(e)+parseInt(d)),a.fn.yith_quick_view()):(a("#"+b).html(k),a("#"+b).addClass("loaded"))}}),c()})})}function c(){var b=0;a(".sns-product-tabs ul.product_list > li").each(function(){var c=a(this).height();b>0&&c<b?a(this).css("min-height",b):b=c})}function d(a){a.toggleClass("selected"),a.siblings().removeClass("selected")}a(".mode-view a").click(function(){var b=a(this).data("mode");return!a(this).hasClass("active")&&(a.ajax({url:ajaxurl,data:{action:"sns_setmodeview",mode:b},type:"POST"}),a(".mode-view a").removeClass("active"),a(".mode-view a").each(function(){a(this).hasClass(b)&&a(this).addClass("active")}),a("#sns_woo_list.product_list").hasClass("grid")?(a("#sns_woo_list.product_list").removeClass("grid"),a("#sns_woo_list.product_list").addClass("list")):a("#sns_woo_list.product_list").hasClass("list")&&(a("#sns_woo_list.product_list").removeClass("list"),a("#sns_woo_list.product_list").addClass("grid")),!1)}),b(),a(".product-categories").SnsAccordion({btn_open:'<span class="ac-tongle open"></span>',btn_close:'<span class="ac-tongle close"></span>'}),a(".grid-view a.add_to_cart_button.product_type_simple").click(function(b){a(this)}),a(".list-view a.add_to_cart_button.product_type_simple").each(function(){}),a(".type-product .summary .compare, .yith-wcwl-add-to-wishlist .add_to_wishlist, .yith-wcwl-wishlistaddedbrowse a, .yith-wcwl-wishlistexistsbrowse a").each(function(){a(this).attr("data-toggle","tooltip").attr("data-original-title",a(this).text().trim())}),jQuery(".sns-rating-width").length>0&&jQuery(".sns-rating-width").each(function(){var b=a(this).find(" > span").attr("data-width");a(this).find(" > span").css("width",b+"%")}),jQuery(document).ajaxComplete(function(){a(".type-product .summary .compare, .yith-wcwl-add-to-wishlist .add_to_wishlist, .yith-wcwl-wishlistaddedbrowse a, .yith-wcwl-wishlistexistsbrowse a").each(function(){a(this).attr("data-toggle","tooltip").attr("data-original-title",a(this).text().trim())}),a(".products .added_to_cart").each(function(){""!=a(this).text().trim()&&a(this).attr("data-toggle","tooltip").attr("data-original-title",a(this).text().trim())}),a(".woocommerce .compare.button").each(function(){""!=a(this).text().trim()&&a(this).attr("data-original-title",a(this).text().trim())}),a(".sns-ajaxcart .tongle .number-item").html(a(".sns-ajaxcart .sns-cart-number").html()),a(".sns-ajaxcart .tongle .amount").html(a(".sns-ajaxcart .total span").html());var b=0;a(".block-compare .products-list > li").each(function(){a(this).find("a").length&&b++}),a(".block-compare .compare-toggle .total-compare-val").html(b)}),c(),a(".type-product.product-type-variable").length&&"undefined"!=typeof sns_arr_attr&&a(".variations select").each(function(){var c,b=a(this),e=sns_arr_attr[b.attr("name")];c=a("<div />",{class:"sellect-wrap"}).insertAfter(b),b.hide(),b.find("option").each(function(){var g,f=a(this);if(""!=f.attr("value")){var h,i,j=e.key_val[f.attr("value")];"color"==e.type?(h=a("<span/>",{style:"background:"+j}),i=" color"):"image"==e.type?(h=a("<span/>",{style:'background-image:url("'+j+'")'}),i=" image"):"text"==e.type&&(h=a("<span/>",{html:j}),i=" text"),g=a("<div/>",{class:"option"+i,"data-toggle":"tooltip","data-original-title":f.text(),"data-value":f.attr("value")}).appendTo(c),h.appendTo(g),f.val()==b.val()&&g.addClass("selected"),g.on("click",function(){b.val("").change(),a(this).hasClass("selected")?b.val("").change():b.val(f.val()).change(),d(a(this))})}})}),a(".sns-product-type-variable").length&&a(".sns-product-type-variable").each(function(){var b,c;b=a(this),c=b.find(".product-image img").hasClass("lazy")?b.find(".product-image img").attr("data-original"):b.find(".product-image img").attr("src"),a(b.find(".variations-product-wrap .variable-item a.option")).each(function(){a(this).on("click",function(d){d.preventDefault(),a(b.find(".variations-product-wrap .variable-item a.option")).removeClass("active"),a(this).addClass("active");var e=a(this).attr("data-image-src");return""!=e?(a(b).find(".product-image img").attr("src",e),a(b).find(".product-image img").attr("srcset",""),a(b).find(".product-image img").attr("sizes","")):a(b).find(".product-image img").attr("src",c),!1})})}),a(".sns-product-tabs").length>0&&a(".sns-product-tabs").each(function(){var d=a(this).attr("id"),e=a(this).find(".tab-content").height();a(this).find(".tab-content").css("min-height",e),a(this).find(".nav-tabs a.intent-tab, ul.dropdown-menu > li a.intent-tab").each(function(){a(this).one("click",function(){var e=a(this);if(!e.hasClass("tab-loaded")){a("#"+d+" .tab-content").addClass("tab-loading");var f=a(this).attr("data-type"),g=a(this).attr("data-tab-id"),h=a(this).attr("data-cat"),i=a(this).attr("data-template"),j=a(this).attr("data-orderby"),k=a(this).attr("data-number-query"),l=a(this).attr("data-number-display"),m=a(this).attr("data-number-limit"),n=a(this).attr("data-effect-load"),o=a(this).attr("data-col"),p=a(this).attr("data-uq"),q=a(this).attr("data-number-load"),r=a(this).attr("data-carousel-row-number"),s="animate-"+Math.floor(1e9*Math.random());a.ajax({url:ajaxurl,data:{action:"sns_wootabloadproducts",data_type:f,tab_id:g,cat:h,template:i,orderby:j,number_query:k,number_display:l,number_limit:m,effect_load:n,col:o,uq:p,number_load:q,carousel_row_number:r,eclass:s},type:"POST",success:function(c){""!=c&&(a("#"+d+" .tab-content").removeClass("tab-loading"),a("#"+d+" .tab-content").append(c),a("#"+d+" .tab-content").find("#"+g).addClass("active in"),SnsJsWoo.setAnimate("#"+d+" .tab-content  #"+g,s),e.addClass("tab-loaded"),a("body").hasClass("use_lazyload")&&a("#"+g+" img.lazy").each(function(){a(this).lazyload()}),b())}}),c()}})})})})}(jQuery);var SnsJsWoo={setAnimate:function(a,b){jQuery(a).find(".sns-woo-loadmore").fadeOut("fast"),morec="",jQuery(a+" .product_list").hasClass("owl-carousel")&&(morec=".owl-item.active "),jQuery(a+" .product_list "+morec+"."+b).each(function(c){jQuery(this).attr("style","-webkit-animation-delay:"+300*c+"ms;-moz-animation-delay:"+300*c+"ms;-o-animation-delay:"+300*c+"ms;animation-delay:"+300*c+"ms;"),c==jQuery(a+" .product_list "+morec+"."+b).size()-1&&(jQuery(a+" .product_list").addClass("play"),jQuery(a).find(".sns-woo-loadmore").fadeIn(.3*c),""!=morec&&setTimeout(function(){SnsJsWoo.delAnimate(a)},300*c+700))})},resetAnimate:function(a){var b,c,d;b=a.parents(".sns-product-tabs").attr("id"),c="animate-"+Math.floor(1e9*Math.random()),d=a.find("a").attr("href"),jQuery("#"+b+" .product_list").removeClass("play"),jQuery("#"+b+" .product_list li").removeClass("item-animate"),jQuery("#"+b+" .product_list li").attr("style","");var e=[];jQuery("#"+b+' .product_list li[class*="animate-"]').each(function(a,b){var c=(b.className.match(/(^|\s)(animate\-[^\s]*)/)||[,,""])[2];c&&(e.push(c),jQuery(b).removeClass(c))}),jQuery("#"+b+" "+d+" .product_list li").addClass("item-animate").addClass(c),SnsJsWoo.setAnimate("#"+b+" "+d,c)},delAnimate:function(a){jQuery(a+" .product_list li").hasClass("item-animate")&&jQuery(a+" .product_list li").removeClass("item-animate")}};